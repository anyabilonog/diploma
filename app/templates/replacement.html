<!DOCTYPE html>
{% load static %}
{% load poll_extras %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha1/dist/js/bootstrap.bundle.min.js">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
<div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
        <div class="col-md-3 border-right aside">
            <div class="row">
            <div class="d-flex flex-column align-items-center text-center p-3 py-5">

              <div class="employee_replacement_left">
              <p class="p_titles_text">{{employee_department.dept_no}}</p>
              {% if employee.gender == "F" and employee.img == 'None' or employee.gender == "F" and employee.img == None or employee.gender == "F" and employee.img == ''%}
                <img src="{% static 'img/7.png' %}">
              {% elif employee.gender == "M" and employee.img == 'None' or employee.gender == "M" and employee.img == None or employee.gender == "M" and employee.img == '' %}
               <img src="{% static 'img/avatar-svgrepo-com.svg' %}">
              {% else %}
              <img src="../media/{{employee.img}}">

              {% endif %}
              <div class="p_info">
                <p class="p_name">{{employee.first_name}} {{ employee.last_name}}</p>
                <div class="p_titles">
                <p class="p_titles_text">{{employee_title.title_no}}</p>
                </div>
                <p class="p_number">{{employee.number}}</p>
                <p class="p_email">{{employee.email}}</p>
              </div>
            </div>
            </div>

            <div class ="employee_functions_list">
            <div class="d-flex justify-content-between align-items-center mb-3 profile_settings">
                    <p class="text-center">Функції співробітника</p>
                </div>
                {% for func in functions %}
                   <div class="row mt-2">

                    <input class="employee_functions" hidden>
                    <div class="col-md-6">{{func.func_no}}</div>
                    <div class="col-md-6">
                    <div class="progress">

                        <div class="progress-bar" role="progressbar" aria-valuenow="70"
                      aria-valuemin="0" aria-valuemax="100" style="width: {{func.func_assessment}}%">
                            {{func.func_assessment}}
                      </div>

                    </div>
                    </div>
                  </div>
                {% endfor %}
            </div>
            </div>
        </div>

            <form action="" method="POST">
                      {% csrf_token %}
                    <div class = "emp_func">
                    <div class="col-md-3 border-right emp_func_col">
                      <label>Не замінювати</label>
                        <p> Функціональна стійкість організації: {{zero_func_stab.func_stab}}</p>
                    <button type="submit" class="btn-submit one_emp_func_btn" name="zero_replacement">Замінити</button>
                    </div>
                    <div class="col-md-3 border-right emp_func_col">
                        <label>Замінити на одного</label>
                        <p> Функціональна стійкість організації: {{one_employee_func_stab.func_stab}}</p>
                        <p> Працівник: </p>
                        <p style="font-weight: bold">{{one_employee_func_stab.emp.first_name}} {{one_employee_func_stab.emp.last_name}}</p>
                        <p style="font-weight: bold"> Функції, які замінить: </p>
                        {% for func in one_employee_func_stab.funcs %}
                        <p style="font-weight: bold">{{func}} </p>
                        {% endfor %}
                        <input value="{{one_employee_func_stab.emp.emp_no}}" name="one_emp" hidden>

                        <input value="{{ one_employee_func_stab.funcs}}" name="one_emp_func" hidden>
                        <input value="{{one_employee_func_stab.emp}}" hidden>

                      <button type="submit" class="btn-submit one_emp_func_btn" name="one_replacement">Замінити</button>
                    </div>
                    <div class="col-md-3 border-right emp_func_col">
                    <label>Замінити на двох</label>
                    <p> Функціональна стійкість організації: {{two_employee_func_stab.func_stub}}</p>
                    <p> Працівник #1: </p>
                    <p style="font-weight: bold">{{two_employee_func_stab.emp1.first_name}} {{two_employee_func_stab.emp1.last_name}}</p>
                    <p style="font-weight: bold"> Функції, які замінить: </p>
                        {% for func in two_employee_func_stab.emp1_func %}
                        <p style="font-weight: bold">{{func}} </p>
                        {% endfor %}
                        <p> Працівник #2: </p>
                    <p style="font-weight: bold">{{two_employee_func_stab.emp2.first_name}} {{two_employee_func_stab.emp2.last_name}}</p>
                     <p style="font-weight: bold"> Функції, які замінить: </p>
                        {% for func in two_employee_func_stab.emp2_func %}
                        <p style="font-weight: bold">{{func}} </p>
                        {% endfor %}
                      <input value="{{two_employee_func_stab.emp1.emp_no}}" name="first_emp" hidden>
                      <input value="{{two_employee_func_stab.emp2.emp_no}}" name="second_emp" hidden>
                      <input value="{{ two_employee_func_stab.emp1_func}}" name="first_emp_func" hidden>
                      <input value="{{ two_employee_func_stab.emp2_func}}" name="second_emp_func" hidden>
                      <button type="submit" class="btn-submit one_emp_func_btn" name="two_replacement">Замінити</button>
                    </div>
                    </div>
            </form>

    </div>
</div>

</div>
</div>
</body>
</html>